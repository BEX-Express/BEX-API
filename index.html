
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BEX REST API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-29c4ce80.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-c427a123.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-c240e9e6.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#welcome-to-our-docs-site" class="toc-h1 toc-link" data-title="Welcome to our DOCS site">Welcome to our DOCS site</a>
          </li>
          <li>
            <a href="#requirements" class="toc-h1 toc-link" data-title="Requirements">Requirements</a>
          </li>
          <li>
            <a href="#request-response-format" class="toc-h1 toc-link" data-title="Request/Response Format">Request/Response Format</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
          <li>
            <a href="#parameters" class="toc-h1 toc-link" data-title="Parameters">Parameters</a>
          </li>
          <li>
            <a href="#tools" class="toc-h1 toc-link" data-title="Tools">Tools</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#login" class="toc-h1 toc-link" data-title="Login">Login</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#endpoint" class="toc-h2 toc-link" data-title="Endpoint">Endpoint</a>
                  </li>
                  <li>
                    <a href="#parameters" class="toc-h2 toc-link" data-title="Parameters">Parameters</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tracking" class="toc-h1 toc-link" data-title="Tracking">Tracking</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#endpoint" class="toc-h2 toc-link" data-title="Endpoint">Endpoint</a>
                  </li>
                  <li>
                    <a href="#parameters" class="toc-h2 toc-link" data-title="Parameters">Parameters</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#quoting" class="toc-h1 toc-link" data-title="Quoting">Quoting</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#endpoint" class="toc-h2 toc-link" data-title="Endpoint">Endpoint</a>
                  </li>
                  <li>
                    <a href="#parameters" class="toc-h2 toc-link" data-title="Parameters">Parameters</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#waybill" class="toc-h1 toc-link" data-title="Waybill">Waybill</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#endpoint" class="toc-h2 toc-link" data-title="Endpoint">Endpoint</a>
                  </li>
                  <li>
                    <a href="#response" class="toc-h2 toc-link" data-title="Response">Response</a>
                  </li>
                  <li>
                    <a href="#submission-failures" class="toc-h2 toc-link" data-title="Submission Failures">Submission Failures</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#waybill-downloads" class="toc-h1 toc-link" data-title="Waybill Downloads">Waybill Downloads</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#ewaybill-download" class="toc-h2 toc-link" data-title="eWaybill Download">eWaybill Download</a>
                  </li>
                  <li>
                    <a href="#labels-downloads" class="toc-h2 toc-link" data-title="Labels Downloads">Labels Downloads</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks-guide" class="toc-h1 toc-link" data-title="Webhooks Guide">Webhooks Guide</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting Started">Getting Started</a>
                  </li>
                  <li>
                    <a href="#webhook-registration" class="toc-h2 toc-link" data-title="WebHook Registration">WebHook Registration</a>
                  </li>
                  <li>
                    <a href="#a-word-on-filters" class="toc-h2 toc-link" data-title="A Word on Filters">A Word on Filters</a>
                  </li>
                  <li>
                    <a href="#unsubscribing" class="toc-h2 toc-link" data-title="Unsubscribing">Unsubscribing</a>
                  </li>
                  <li>
                    <a href="#filters-event-types" class="toc-h2 toc-link" data-title="Filters/Event Types">Filters/Event Types</a>
                  </li>
                  <li>
                    <a href="#basic-payload-structure" class="toc-h2 toc-link" data-title="Basic Payload Structure">Basic Payload Structure</a>
                  </li>
                  <li>
                    <a href="#notifications-property" class="toc-h2 toc-link" data-title="Notifications Property">Notifications Property</a>
                  </li>
                  <li>
                    <a href="#verifying-webhook-signature" class="toc-h2 toc-link" data-title="Verifying WebHook Signature">Verifying WebHook Signature</a>
                  </li>
                  <li>
                    <a href="#event-types-payloads" class="toc-h2 toc-link" data-title="Event Types/Payloads">Event Types/Payloads</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://bex.co.za/signup'>Open a BEX account</a></li>
            <li><a href='https://bex.co.za/quick-track'>Track a shipment</a></li>
            <li><a href='https://bex.co.za/about'>About us</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='welcome-to-our-docs-site'>Welcome to our DOCS site</h1>
<p>Here at BEX we frequently develop and publish new API’s to assist our customers who wish to gain deeper control and visibility into their courier processes.</p>

<p>These API’s allow for direct integration into our courier platform, allowing data to be read and created using requests in JSON format.
Couple this with our token based Authentication methods and standard HTTP verbs (which are understood by most HTTP clients) you have the capability to orchestrate and manage a number of processes within the courier environment.</p>

<p>We hope that you will build something great and benefit from integrating with our courier API’s.</p>

<p>We want your courier journey to be pain-free - If you run into any difficulties, or perhaps you have some suggestions for us, please do not hesitate to <a href="mailto:it@bex.co.za?subject=Please%20help%20me%20to%20integrate%20with%20you">reach out</a> and we will gladly work with you.</p>
<h1 id='requirements'>Requirements</h1>
<p>To make use of our API integration we require the following:</p>

<ol>
<li>A valid <a href="https://bex.co.za/signup">shipping account</a> with BEX.</li>
<li>The creation of an integration user identity under which you will transact over the API’s</li>
<li>For security sensitive data requests, a valid <a href="#login">token</a>.</li>
</ol>

<p><strong>Note:</strong> If you have multiple shipping accounts you are not required to transact under multiple integration identities (“tokens”). Our platform supports the assignment of multiple shipping accounts to a <em>single</em> token, making integration across multiple business units easier.</p>

<aside class="notice">
Our API endpoints should be accessed through HTTPS.
</aside>
<h1 id='request-response-format'>Request/Response Format</h1>
<p>Our API endpoints will respond with <strong>JSON</strong> content accompanied by a <code>200 OK</code> HTTP status. This includes any possible processing errors. Please see the Errors section.</p>
<h1 id='errors'>Errors</h1>
<p>You can find the errors specific to each API endpoint under its dedicated API topic.</p>

<p>API errors are communicated through the <code>ex</code> (short for <em>exception</em>) property inside the response body. Please inspect this property for any possible errors that may have occurred.</p>

<p>A possible problematic response could look as follows:</p>

<ul>
<li>HTTP status code: <code>200 OK</code></li>
<li>API response: <code>&quot;ex&quot;: &quot;Account number is not registered for transactions with this token.&quot;</code></li>
</ul>

<p><img src="images/200OK-response-with-ex-error-96d58e35.jpg" alt="200 OK with error ex:" />
<em>Above: Note the <strong>200 OK</strong> status whilst receiving an error <strong>&quot;ex&quot;:</strong> response</em></p>

<p>In instances where there is a technical breakdown in the processing of the API request, such as querying the wrong endpoint address, you will receive the appropriate http status code such as a <code>404</code>.</p>
<h1 id='parameters'>Parameters</h1>
<p>All parameters as required by the relevant API endpoint may be provided in either query string format (e.g. <code>POST /getcustomquicktracking_v3?ref=test123</code>) OR as part of the body in <code>JSON</code> format.</p>

<aside class="notice">
  Parameter values containing special characters should be URL encoded as needed.
</aside>

<p>The parameters the relevant API endpoint requires are discussed in its relevant section.</p>
<h1 id='tools'>Tools</h1>
<p>You are free to use any IDE or tool that satisfies your needs. We do recommend the use of <a href="https://www.postman.com" target="_blank"><strong>POSTMAN</strong></a> to test your requests to our server.</p>

<p><a href="https://app.getpostman.com/run-collection/18080551-d254d459-0578-41a2-a226-c9106577fc8b?action=collection%2Ffork&amp;source=rip_markdown&amp;collection-url=entityId%3D18080551-d254d459-0578-41a2-a226-c9106577fc8b%26entityType%3Dcollection%26workspaceId%3Df4e6d6c2-24bc-49cd-8a3e-5dbc327bc6a9"><img src="https://run.pstmn.io/button.svg" alt="Run In Postman" style="width: 128px; height: 32px;"></a></p>

<p>Other tools you could also look at are:</p>

<ul>
<li><a href="https://insomnia.rest" target="_blank">Insomnia</a> - Cross-platform GraphQL and REST client, available for Mac, Windows, and Linux.</li>
<li><a href="https://getpostman.com" target="_blank">Postman</a> - Cross-platform REST client, available for Mac, Windows, and Linux.</li>
<li><a href="https://requestbin.com" target="_blank">RequestBin</a> - Allows you test webhooks.</li>
<li><a href="https://hookbin.com" target="_blank">Hookbin</a> - Another tool to test webhooks.</li>
</ul>
<h1 id='authentication'>Authentication</h1>
<p>Authentication against the BEX API ecosystem is a two-part process and is required to prevent access to confidential client data. The process involves the generation of your API security token which is described in the next section. This token is then included in the HTTP headers of your API calls and serves to identify and authenticate you on our platform.</p>

<p>API&#39;s that serve non-sensitive client data such as our quick waybill <a href="tracking">tracking</a> do not require your token to be present in the API call and can be called anonymously.</p>
<h1 id='login'>Login</h1><h2 id='overview'>Overview</h2>
<p>The <em>login</em> service serves as the starting point from which a valid session token will be generated. You call this endpoint to authenticate yourself using your BEX credentials.</p>

<p>The BEX platform will validate your request and if successful, generate and return in the response object a token contained in the <code>value</code> attribute.</p>

<aside class="notice">
  This token is unique to your integration user identity and is to be kept safe and secure at all times.

  Should your token become compromised, please reach out to us as soon as possible.
</aside>
<h2 id='endpoint'>Endpoint</h2>
<p>The authentication endpoint is located at <code>https://api.bex.co.za/api/service/login</code>.</p>

<blockquote>
<p>Ensure special characters are URL encoded.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_bex_username"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_bex_password"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span> <span class="nx">xmlns</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://www.w3.org/1999/xhtml</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">BEX</span> <span class="nx">API</span> <span class="nx">Login</span> <span class="nx">Example</span><span class="o">&lt;</span><span class="sr">/title</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://code.jquery.com/jquery-latest.min.js</span><span class="dl">"</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/head</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="dl">'</span><span class="s1">username</span><span class="dl">'</span><span class="p">);</span> <span class="c1">//encode the username</span>
    <span class="kd">var</span> <span class="nx">pass</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="dl">'</span><span class="s1">password</span><span class="dl">'</span><span class="p">);</span> <span class="c1">//encode the password</span>
    <span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">cors</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">//this will enable cross domain access for all services</span>

    <span class="c1">//call the service using jQuery ajax and passing the parameters</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.bex.co.za/api/service/login?userName=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">user</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;password=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">pass</span><span class="p">,</span> 
      <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> 
      <span class="na">async</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">//No need for async</span>
      <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">An error has occurred. </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ex</span><span class="p">);</span>
          <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">Your token is </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span></code></pre></div><h2 id='parameters'>Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>String</td>
<td>Yes</td>
<td>Your integration account <em>username</em>.</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Yes</td>
<td>Your integration account <em>password</em> (case sensitive).</td>
</tr>
<tr>
<td>preferAlternateToken</td>
<td>Boolean</td>
<td>No</td>
<td>Set to <em>true</em> if so required by the documentation.</td>
</tr>
</tbody></table>
<h2 id='response'>Response</h2>
<blockquote>
<p>Sample json response.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19696</span><span class="p">,</span><span class="w">
 </span><span class="err">//</span><span class="w"> </span><span class="err">Here's</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">token</span><span class="w"> </span><span class="err">-------------------------------------------------------</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dOdw98ycsih298749bd6MbZre8o7tt3r3nhfowo8dnBDpEJvkzcQG1vb44sy"</span><span class="p">,</span><span class="w">
 </span><span class="err">//</span><span class="w"> </span><span class="err">------------------------------------------------------------------------</span><span class="w">
    </span><span class="nl">"isStrongPassword"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isEmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your.email@company.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signalREnabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allowApiLogin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"False"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The response body is structured as follows:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Int</td>
<td>An internal BEX ID used to identify your user.</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>Your unique and private token.</td>
</tr>
<tr>
<td>isStrongPassword</td>
<td>String</td>
<td>Confirms whether your password meets our complexity requirements.</td>
</tr>
<tr>
<td>isEmailVerified</td>
<td>String</td>
<td>Your email address is used to recover forgotten passwords or lost tokens and needs to be verified before transactions are possible.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>The recovery email address against which this token is registered.</td>
</tr>
<tr>
<td>signalRenabled</td>
<td>Boolean</td>
<td>For internal use only.</td>
</tr>
<tr>
<td>allowApiLogin</td>
<td>Boolean</td>
<td>For internal use only.</td>
</tr>
</tbody></table>

<p>With your token now generated you can proceed to call our security restricted API&#39;s.</p>

<aside class="notice">
  Include your token in your request header (token=&lt;your_bex_token&gt;).
</aside>
<h1 id='tracking'>Tracking</h1><h2 id='overview'>Overview</h2>
<p>You can query our courier platform for up-to-the-minute tracking information pertaining to your shipments. We have exposed a lightweight tracking service that returns non-sensitive tracking events for the shipments queried.
To cater for customers wishing to display this tracking information on their own websites we include a schema definition in the tracking response that can be used to bind the fields to a client grid implemented on your website.</p>

<p>The service allows for the submission of <strong>up to ten (10) waybills and/or customer reference numbers</strong> per API call.</p>

<aside class="notice">
  We do not support partial matches nor do we support wildcards.
</aside>

<p>You may submit a combination of waybill and/or reference numbers in a single call.</p>
<h2 id='endpoint'>Endpoint</h2>
<p>The tracking API is located at <code>https://api.bex.co.za/api/service/waybillquicktrackingv3customtreeview</code>.</p>

<p>You can complete the request by using query parameters, for example <code>/api/service/waybillquicktrackingv3customtreeview?searchItems=Item_1,Item_2,Item_3</code> or by submitting a JSON request.</p>

<blockquote>
<p>Sample json request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"searchItems"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACP1055352,MDH42240,MA210214"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='parameters'>Parameters</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>searchItems</td>
<td>String</td>
<td>Yes</td>
<td>A comma separated list of items to be searched. Can be either a waybill, reference number, or a combination of both.</td>
</tr>
</tbody></table>
<h2 id='response'>Response</h2>
<blockquote>
<p>Sample json tracking response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">first</span><span class="w"> </span><span class="err">object</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">our</span><span class="w"> </span><span class="err">data-definition</span><span class="w"> </span><span class="err">object</span><span class="p">,</span><span class="w"> </span><span class="err">identified</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">groupingIndex</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="mi">-1</span><span class="err">.</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupingIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"headerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Waybill"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Senders Ref"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking Description"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"internalRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Internal Ref"</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">subsequent</span><span class="w"> </span><span class="err">objects</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">tracking</span><span class="w"> </span><span class="err">events</span><span class="w"> </span><span class="err">themselves</span><span class="p">,</span><span class="w"> </span><span class="err">identified</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">groupingIndex</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13751791</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"headerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06-09-2021 08:03"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACP1055352"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740493"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Delivered to PRTER ME.A at 08:26 on 03 Sep 2021"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAMMY GROBLER"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"internalRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13751791"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupingIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13751791</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"headerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-09-2021 08:26"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740493"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Driver confirmed successful delivery"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JACKIE MATHOLE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"internalRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13751791"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupingIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13751791</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"headerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-09-2021 07:06"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740493"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Loaded onto vehicle for delivery"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MORAKA RAMOKGOPA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"internalRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13751791"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupingIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13751791</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"headerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03-09-2021 06:37"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740493"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Arrived into PRY depot"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MORAKA RAMOKGOPA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"internalRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13751791"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupingIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13751791</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"headerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02-09-2021 21:35"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740493"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Departed JNB depot for PRY branch"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GEOFREY SEANEGO"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"internalRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13751791"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupingIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13751791</span><span class="p">,</span><span class="w">
            </span><span class="nl">"dataTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"headerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tracking"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02-09-2021 17:49"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"740493"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shipment integrated to courier system"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"col5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JONATHAN DAVIS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"internalRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13751791"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupingIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>The response object contains an items array. The first object in this array is our data definition object. It’s purpose is to communicate the bindings of the column names to their column numbers in the subsequent objects. The purpose of this first object is to allow you to use this information for the binding up of the data to a client grid on your website if you wish.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>Our internal ID which has no relevance to you.</td>
</tr>
<tr>
<td>items</td>
<td>array</td>
<td>An array containing the tracking event objects.</td>
</tr>
</tbody></table>

<p>The <em>objects</em> contained in the <em>items</em> array are comprised as follows:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>Our internal ID which has no relevance to you.</td>
</tr>
<tr>
<td>dataTypeId</td>
<td>int</td>
<td>Internal to BEX and of no use to you.</td>
</tr>
<tr>
<td>groupingIndex</td>
<td>int</td>
<td>A tree hierarchy index used to identify parent objects from children.</td>
</tr>
<tr>
<td>headerName</td>
<td>string</td>
<td>The name of the entity being returned, in this case “Tracking”.</td>
</tr>
<tr>
<td>col1</td>
<td>string</td>
<td>Column1, typically the DateTime the event occurred.</td>
</tr>
<tr>
<td>col2</td>
<td>string</td>
<td>Column2, typically the Waybill Number of the shipment.</td>
</tr>
<tr>
<td>col3</td>
<td>string</td>
<td>Column3, typically the Customer reference supplied for the shipment.</td>
</tr>
<tr>
<td>col4</td>
<td>string</td>
<td>Column4, typically the description of the Tracking event.</td>
</tr>
<tr>
<td>col5</td>
<td>string</td>
<td>Column5, the BEX member of staff who recorded the event.</td>
</tr>
<tr>
<td>internalRef</td>
<td>string</td>
<td>Our internal ID which has no relevance to you.</td>
</tr>
</tbody></table>
<h1 id='quoting'>Quoting</h1><h2 id='overview'>Overview</h2>
<p>The BEX quoting service allows you to view dynamic shipping pricing across our range of delivery services. By providing us with your shipment addressing information we can return a pricing spread as well as delivery estimations which you can use to make a more informed shipping choice.</p>

<aside class="notice">
  It is important to note that quoting on our platform is a "just-in-time" process and we do not store your quotes (nor return a quote number) for later acceptance by yourself. Instead, our implementation is like that of airline bookings where prices quoted are as at "now". If you choose not to make a booking the prices may change when next you log onto the platform.  
</aside>
<h2 id='endpoint'>Endpoint</h2>
<p>The quoting API endpoint is located at <code>https://api.bex.co.za/api/service/getquoteservicedeliverypricingv2</code>.</p>

<blockquote>
<p>Sample json quoting message body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"dispatchDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-03"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalWeight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dimMass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"316085"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originSuburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ballito"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originPostCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4319"</span><span class="p">,</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">If</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">provide</span><span class="w"> </span><span class="err">coordinates</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">well</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">location</span><span class="w"> </span><span class="err">names</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">favour</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">coordinates</span><span class="w">
    </span><span class="nl">"originLatCoord"</span><span class="p">:</span><span class="w"> </span><span class="mf">-29.1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originLongCoord"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.5099"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationLatCoord"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-26.1327"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationLongCoord"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28.1957"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='parameters'>Parameters</h2>
<p>To offer an accurate price we require the following parameters from you.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dispatchDate</td>
<td>Date</td>
<td>The intended date of shipping.</td>
</tr>
<tr>
<td>totalWeight</td>
<td>Decimal</td>
<td>The total actual weight in kilograms (as placed on a scale) of all of the goods to be shipped</td>
</tr>
<tr>
<td>dimMass</td>
<td>Decimal</td>
<td>The sum of the total cubic centimetres of all of the goods to be shipped. (length x breadth x height) + (length x breadth x height)</td>
</tr>
<tr>
<td>accountNumber</td>
<td>String</td>
<td>Your shipping account number with BEX.</td>
</tr>
<tr>
<td>originSuburb</td>
<td>String</td>
<td>The suburb from where we will collect your shipment</td>
</tr>
<tr>
<td>originPostCode</td>
<td>String</td>
<td>The postcode of the suburb from where we will collect your shipment.</td>
</tr>
<tr>
<td>destinationSuburb</td>
<td>String</td>
<td>The suburb where we will deliver your shipment</td>
</tr>
<tr>
<td>destinationPostCode</td>
<td>String</td>
<td>The postcode of the suburb where we will deliver your shipment.</td>
</tr>
<tr>
<td>originLatCoord</td>
<td>Decimal</td>
<td>The GPS latitude (north-south position) of your collection location, expressed in decimal notation.</td>
</tr>
<tr>
<td>originLonCoord</td>
<td>Decimal</td>
<td>The GPS longitude (east-west position) of your collection location, expressed in decimal notation.</td>
</tr>
<tr>
<td>destinationLatCoord</td>
<td>Decimal</td>
<td>The GPS latitude (north-south position) of your delivery location, expressed in decimal notation.</td>
</tr>
<tr>
<td>destinationLonCoord</td>
<td>Decimal</td>
<td>The GPS longitude (east-west position) of your delivery location, expressed in decimal notation.</td>
</tr>
</tbody></table>

<aside class="notice">
  If you provide us the GPS position of the respective collection and/or delivery locations you are not required to provide the Suburb, Town or Postcode information for that location. If you provide us with both (the GPS coordinates as well as the Suburb/Postcode pairs) we will favour and use exclusively the GPS position in the building of your quoted pricing.
</aside>

<blockquote>
<p>We are flexible as to how you supply the addressing.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">Snippet</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="err">Just</span><span class="w"> </span><span class="err">coordinates</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"originLatCoord"</span><span class="p">:</span><span class="s2">"-26.2462726"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originLonCoord"</span><span class="p">:</span><span class="s2">"28.0969053"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationLatCoord"</span><span class="p">:</span><span class="s2">"-26.5372133"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationLonCoord"</span><span class="p">:</span><span class="s2">"29.1284535"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalWeight"</span><span class="p">:</span><span class="s2">"43"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dimMass"</span><span class="p">:</span><span class="s2">"224000"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Snippet</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="w"> </span><span class="err">Just</span><span class="w"> </span><span class="err">location</span><span class="w"> </span><span class="err">names</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"originSuburb"</span><span class="p">:</span><span class="s2">"Steeledale"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originPostCode"</span><span class="p">:</span><span class="s2">"2197"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationSuburb"</span><span class="p">:</span><span class="s2">"Secunda"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationPostCode"</span><span class="p">:</span><span class="s2">"2302"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalWeight"</span><span class="p">:</span><span class="s2">"43"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dimMass"</span><span class="p">:</span><span class="s2">"224000"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Snippet</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span><span class="w"> </span><span class="err">A</span><span class="w"> </span><span class="err">combination</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">both</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"originLatCoord"</span><span class="p">:</span><span class="s2">"-26.2462726"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originLonCoord"</span><span class="p">:</span><span class="s2">"28.0969053"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationSuburb"</span><span class="p">:</span><span class="s2">"Secunda"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"destinationPostCode"</span><span class="p">:</span><span class="s2">"2302"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalWeight"</span><span class="p">:</span><span class="s2">"43"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dimMass"</span><span class="p">:</span><span class="s2">"224000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Calculation of the delivery charges</strong></p>

<p>In courier we use the greater of the <em>actual</em> weight or the <em>volume</em> of the goods to be shipped. Basically, we charge by weight OR by the physical size of the goods, whichever is greater (aircraft get expensive when flying empty boxes around).</p>

<p>These 2 parameters are:</p>

<ol>
<li><code>totalWeight</code> The total weight in kilograms of <strong>all</strong> the goods on this order</li>
<li><code>dimMass</code> The sum of the total cubic centimetres of <strong>all</strong> the goods on this order</li>
</ol>

<p><strong>Example:</strong>
A customer order is going from Sandton to Secunda. The order is made up of <strong>2 boxes</strong> as follows:</p>

<ol>
<li>A stock 1 box (40cm x 40cm x 20cm) and weighing 18kgs</li>
<li>A stock 4 box (80cm x 80cm x 30cm) and weighing 25kgs.</li>
</ol>

<p>Looking at the code snippets on the right, you can see that the quotation request is to be structured as follows:</p>

<ul>
<li><code>&quot;totalWeight&quot;: &quot;43&quot;</code></li>
<li><code>&quot;dimMass&quot;: &quot;224000&quot;</code> (40x40x20) + (80x80x30) = 224,000</li>
</ul>

<p>For the addressing, first prize we would like the co-ordinates of the collection and delivery locations (json snippet 1), otherwise you can pass us the suburb and postcode of the collection and delivery locations (snippet 2 or 3). </p>
<h2 id='response'>Response</h2>
<blockquote>
<p>json quoting response.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"customerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOEING AIRCRAFT COMPANY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">449</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceCodeStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceNameStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERNIGHT COURIER"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originSuburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGGENEYS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGGENEYS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originRateCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REMOTE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originBranchStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAPE TOWN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originHub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originLocationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationSuburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROYDON"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KEMPTON PARK"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationRateCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAJOR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationBranchStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JOHANNESBURG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationHub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JNB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationLocationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedTransitDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduledTransitDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedHolidays"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduledHolidays"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduleBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-05 16:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedCollectionDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-05 18:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"latestCollectionDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-05 18:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedDeliveryDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-09 10:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduledDeliveryDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-09 14:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isDeliveryGuaranteed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"surchargeAddons"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SURSAT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"customerChargeableWeight"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseRateTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fuel"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"insuranceRequired"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"otherSurcharges"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"surchargeTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vat"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalCharges"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"customerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOEING AIRCRAFT COMPANY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">449</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceCodeStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serviceNameStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVERNIGHT COURIER"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originSuburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGGENEYS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AGGENEYS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originRateCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REMOTE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originBranchStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAPE TOWN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originHub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CPT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"originLocationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationSuburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROYDON"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KEMPTON PARK"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationRateCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAJOR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationBranchStr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JOHANNESBURG"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationHub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JNB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destinationLocationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedTransitDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduledTransitDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedHolidays"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduledHolidays"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduleBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-03 16:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedCollectionDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-03 18:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"latestCollectionDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-03 18:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estimatedDeliveryDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-08 10:30:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"scheduledDeliveryDateAndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-10-08 11:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"isDeliveryGuaranteed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"surchargeAddons"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"customerChargeableWeight"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseRateTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fuel"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"insuranceRequired"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"otherSurcharges"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"surchargeTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vat"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalCharges"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>In the <strong>response object</strong> you will find an <strong>items</strong> <em>array of objects</em> containing the different service and pricing options available for the shipment routing you have requested.</p>

<p>The objects in the items array are comprised as follows:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td>Int</td>
<td>An internal BEX field.</td>
</tr>
<tr>
<td>customerName</td>
<td>String</td>
<td>Your account name with BEX.</td>
</tr>
<tr>
<td>serviced</td>
<td>Int</td>
<td>An internal id used to identify the shipping service in question.</td>
</tr>
<tr>
<td>serviceCodeStr</td>
<td>String</td>
<td>The shipping service code.</td>
</tr>
<tr>
<td>serviceNameStr</td>
<td>String</td>
<td>The full name of the shipping service.</td>
</tr>
<tr>
<td>originSuburb</td>
<td>String</td>
<td>The suburb we calculated from where your shipment will be sent.</td>
</tr>
<tr>
<td>originCity</td>
<td>String</td>
<td>The city from where your shipment will be sent.</td>
</tr>
<tr>
<td>originRateCategory</td>
<td>String</td>
<td>The billing category of the location from where your shipment will be sent.</td>
</tr>
<tr>
<td>originBranchStr</td>
<td>String</td>
<td>The name of the BEX branch who will handle the collection of your shipment.</td>
</tr>
<tr>
<td>originHub</td>
<td>String</td>
<td>The 3 letter code of the BEX branch that will collect your shipment.</td>
</tr>
<tr>
<td>originLocationCode</td>
<td>String</td>
<td>The 3 letter town code of the location from where your shipment will be sent.</td>
</tr>
<tr>
<td>destinationSuburb</td>
<td>String</td>
<td>The suburb where your delivery will take place.</td>
</tr>
<tr>
<td>destinationCity</td>
<td>String</td>
<td>The city where your delivery will take place.</td>
</tr>
<tr>
<td>destinationRateCategory</td>
<td>String</td>
<td>The billing category of the location where your shipment will be delivered.</td>
</tr>
<tr>
<td>destinationBranchStr</td>
<td>String</td>
<td>The name of the BEX branch that will handle the delivery of your shipment.</td>
</tr>
<tr>
<td>destinationHub</td>
<td>String</td>
<td>The 3 letter code of the BEX branch that will deliver your shipment.</td>
</tr>
<tr>
<td>destinationLocationCode</td>
<td>String</td>
<td>The 3 letter town code of the location where your shipment will be delivered.</td>
</tr>
<tr>
<td>estimatedTransitDays</td>
<td>Int</td>
<td>The number of business days we believe it will take to complete delivery of your shipment.</td>
</tr>
<tr>
<td>scheduledTransitDays</td>
<td>Int</td>
<td>The number of business days we may take to complete the delivery of your shipment, based on the service level of the shipping service.</td>
</tr>
<tr>
<td>estimatedHolidays</td>
<td>Int</td>
<td>The number of non-working days falling within the period of our delivery lead-time estimation.</td>
</tr>
<tr>
<td>scheduledHolidays</td>
<td>Int</td>
<td>The number of non-working days falling within the period of our service sla lead-time.</td>
</tr>
<tr>
<td>scheduleBy</td>
<td>Datetime</td>
<td>The cut-off time by which you need to capture your shipping request into our system to ensure the delivery lead times are achievable.</td>
</tr>
<tr>
<td>estimatedCollectionDateAndTime</td>
<td>Datetime</td>
<td>The estimated date and time we can collect your shipment at its origin location to commence the shipping process.</td>
</tr>
<tr>
<td>latestCollectionDateAndTime</td>
<td>DateTime</td>
<td>Our operational cut-off time after which we are unable to collect your shipment.</td>
</tr>
<tr>
<td>estimatedDeliveryDateAndTime</td>
<td>DateTime</td>
<td>Our estimated date and time of delivery of your shipment.</td>
</tr>
<tr>
<td>scheduledDeliveryDateAndTime</td>
<td>DateTime</td>
<td>The scheduled date and time of delivery of your shipment.</td>
</tr>
<tr>
<td>isDeliveryGuaranteed</td>
<td>String</td>
<td>Some delivery schedules are guaranteed, depending on the shipping service selected.</td>
</tr>
<tr>
<td>surchargeAddons</td>
<td>String</td>
<td>An optional service-addon which if selected, will provide additional options such as a Saturday or After hours delivery.</td>
</tr>
</tbody></table>
<h1 id='waybill'>Waybill</h1><h2 id='overview'>Overview</h2>
<p>This service is used to create a waybill shipping entry into the BEX courier database. 
This allows BEX customers to directly interface their shipping requests and helps to 
eliminate errors as a result of manual data capture or misinterpretation of written content 
on shipping documentation.
The service allows for the communication of a number of shipping options, such as:</p>

<ul>
<li>Full addressing of both the sending and receiving parties</li>
<li>Additional shipping references against which the shipping entry is to be tagged</li>
<li>Multiple packages and their associated dimensions and weights</li>
<li>Special handling requests such as after-hour, Saturday or public holiday deliveries</li>
</ul>
<h2 id='endpoint'>Endpoint</h2>
<p>The waybill API endpoint is located at <code>https://api.bex.co.za/api/service/submitwaybillv4</code>.</p>

<p>The parameter requirements for this API call have been broken down into five sub-sections,
namely:</p>

<ul>
<li>Basic Details</li>
<li>Addresses - Contains parameters for the construction and routing information of the Waybill </li>
<li>Dimensioning</li>
<li>Additional References</li>
<li>Printing Options</li>
</ul>

<blockquote>
<p>Sample json message body.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"waybillNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="err">//Leave</span><span class="w"> </span><span class="err">empty</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">auto</span><span class="w"> </span><span class="err">generate</span><span class="w"> </span><span class="err">OR</span><span class="w"> </span><span class="err">enter</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">custom</span><span class="w"> </span><span class="err">waybill</span><span class="w"> </span><span class="err">number.</span><span class="w">
    </span><span class="nl">"autoGenerateWaybillNumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//Set</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">_</span><span class="kc">false</span><span class="err">_</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">providing</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">custom</span><span class="w"> </span><span class="err">waybill</span><span class="w"> </span><span class="err">number.</span><span class="w">
    </span><span class="nl">"waybillDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YYYY-MM-DD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_bex_account_number"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"serviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONC"</span><span class="p">,</span><span class="w"> </span><span class="err">//or</span><span class="w"> </span><span class="err">whichever</span><span class="w"> </span><span class="err">service</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">may</span><span class="w"> </span><span class="err">require</span><span class="w">
    </span><span class="nl">"sendersRef"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a reference for the sender"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"special instructions for the courier"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"insuranceRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//Set</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">_</span><span class="kc">true</span><span class="err">_</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">require</span><span class="w"> </span><span class="err">insurance</span><span class="w">
    </span><span class="nl">"insuranceValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Specify</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">_insuranceRequired_</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">_</span><span class="kc">true</span><span class="err">_.</span><span class="w">
    </span><span class="nl">"senderCompany"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe Digital Works"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"senderFloorBuilding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17 Cheltham House, Floor 3"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"senderStreet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 John Doe Avenue"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"senderSuburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ross Kent South"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"senderCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Odendaalsrus"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"senderPostCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9800"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"senderProvince"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free State"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"senderContactName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"senderMobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"senderEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@domain.com"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"senderTel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w">
    </span><span class="nl">"senderTelHome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"senderLat"</span><span class="p">:</span><span class="w"> </span><span class="err">sender_latitude</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Although</span><span class="p">,</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">encourage</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">coordinates!</span><span class="w">
    </span><span class="nl">"senderLon"</span><span class="p">:</span><span class="w"> </span><span class="err">sender_longitude</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Although</span><span class="p">,</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">encourage</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">coordinates!</span><span class="w">
    </span><span class="nl">"receiverCompany"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Flower Works"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"receiverFloorBuilding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Floor B-4"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"receiverStreet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"166 Wringham Drive"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"receiverSuburb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Table View"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"receiverCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cape Town"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"receiverPostCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7441"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"receiverProvince"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Western Cape"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"receiverContactName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"receiverMobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">If</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">number</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">provided</span><span class="p">,</span><span class="w"> </span><span class="err">delivery</span><span class="w"> </span><span class="err">notifications</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">sent</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">number.</span><span class="w">
    </span><span class="nl">"receiverEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@domain.com"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">If</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">email</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">provided</span><span class="p">,</span><span class="w"> </span><span class="err">delivery</span><span class="w"> </span><span class="err">notifications</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">sent</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">address.</span><span class="w"> 
    </span><span class="nl">"receiverTel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"receiverTelHome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> 
    </span><span class="nl">"receiverLat"</span><span class="p">:</span><span class="w"> </span><span class="err">receiver_latitude</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Although</span><span class="p">,</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">encourage</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">coordinates!</span><span class="w">
    </span><span class="nl">"receiverLon"</span><span class="p">:</span><span class="w"> </span><span class="err">receiver_longitude</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Although</span><span class="p">,</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">encourage</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">coordinates!</span><span class="w">
    </span><span class="nl">"returnParcelPrintingText"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Returns</span><span class="w"> </span><span class="err">EPL</span><span class="w"> </span><span class="err">thermal</span><span class="w"> </span><span class="err">label</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">part</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">send</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">thermal</span><span class="w"> </span><span class="err">printer.</span><span class="w">
    </span><span class="nl">"printParcels"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">If</span><span class="w"> </span><span class="err">_</span><span class="kc">true</span><span class="err">_</span><span class="p">,</span><span class="w"> </span><span class="err">parcels</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">printed</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">thermal</span><span class="w"> </span><span class="err">label</span><span class="w"> </span><span class="err">printer</span><span class="w"> </span><span class="err">after</span><span class="w"> </span><span class="err">submission</span><span class="w"> </span><span class="err">using</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">URL</span><span class="w"> </span><span class="err">specified.</span><span class="w">
    </span><span class="nl">"printUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Specify</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">thermal</span><span class="w"> </span><span class="err">label</span><span class="w"> </span><span class="err">printer</span><span class="w"> </span><span class="err">URL</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">print</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">IF</span><span class="w"> </span><span class="err">_printParcels=</span><span class="kc">true</span><span class="err">_.</span><span class="w">
    </span><span class="nl">"printParcelsPrintNode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">Specify</span><span class="w"> </span><span class="err">_</span><span class="kc">true</span><span class="err">_</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">PrintNode</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">print</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">labels</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">_printParcels=</span><span class="kc">true</span><span class="err">_.</span><span class="w">
    </span><span class="nl">"dimensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"dimension1"</span><span class="p">:</span><span class="w"> </span><span class="err">length_cm</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"dimension2"</span><span class="p">:</span><span class="w"> </span><span class="err">breadth_cm</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"dimension3"</span><span class="p">:</span><span class="w"> </span><span class="err">height_cm</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="err">parcel_weight_kg</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="err">//(optional)</span><span class="w"> </span><span class="err">A</span><span class="w"> </span><span class="err">parcel</span><span class="w"> </span><span class="err">description</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"additionalReferences"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reference_1"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reference_2"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>jQuery Waybill Submission Example.</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">html</span> <span class="nx">xmlns</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://www.w3.org/1999/xhtml</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">BEX</span> <span class="nx">waybill</span> <span class="nx">API</span> <span class="nx">example</span><span class="o">&lt;</span><span class="sr">/title</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">http://code.jquery.com/jquerylatest.min.js</span><span class="dl">"</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/head</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="c1">//********** Login Service Call ********************</span>
<span class="kd">var</span> <span class="nx">tokenStr</span> <span class="o">=</span> <span class="dl">''</span><span class="err">;</span>
<span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="dl">'</span><span class="s1">someusername</span><span class="dl">'</span><span class="p">)</span><span class="err">;</span> <span class="c1">//encode the username</span>
<span class="kd">var</span> <span class="nx">pass</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="dl">'</span><span class="s1">somepassword</span><span class="dl">'</span><span class="p">)</span><span class="err">;</span> <span class="c1">//encode the password</span>
<span class="kd">var</span> <span class="nx">host</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://api.bex.co.za</span><span class="dl">'</span><span class="err">;</span>
<span class="c1">//********** Submit Waybill Service Call ***********</span>
<span class="kd">var</span> <span class="nx">postData</span> <span class="o">=</span> <span class="p">{};</span>

<span class="c1">//BASIC</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">waybillNumber</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">IT2701152404</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//or leave empty and set [autoGenerateWaybillNumber=true]</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">autoGenerateWaybillNumber</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//set to [false] if you're supplying a waybill number.</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">waybillDate</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">20150127</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">accountNumber</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">111983</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">serviceCode</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">NCA</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">sendersRef</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">WE HAVE A REFERENCE</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">instructions</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">DO NOT INVERT COMPONENT</span><span class="dl">'</span><span class="err">;</span>

<span class="c1">//INSURANCE OPTIONS</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">insuranceRequired</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//Set to true if you need insurance.</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">insuranceValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//Set the waybill value here if [insuranceRequired=true].</span>

<span class="c1">//SENDER DETAILS</span>
<span class="c1">//--Address</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderCompany</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">THE BOEING COMPANY</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderFloorBuilding</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">UNIT 6 ASSEMBLY BUILDING</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderStreet</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">21 AIRCRAFT LANE</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderSuburb</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MARLBORO</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderCity</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">SANDTON</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderPostCode</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2050</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderProvince</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">GAUTENG</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//optional</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderLat</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//optional BUT WE ENCOURAGE the use of COORDINATES. Enter the LATITUDE here, e.g. -26.123496410189606</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderLon</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//optional BUT WE ENCOURAGE the use of COORDINATES. Enter the LONGITUDE here, e.g. 28.205670867327754</span>

<span class="c1">//--Contact</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderContactName</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">JONATHAN</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//optional</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderMobile</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0821234321</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//optional</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderEmail</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">JONATHAN@BOEING.COM</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//optional</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderTel</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0119299700</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//optional</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">senderTelHome</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0119299700</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//optional</span>

<span class="c1">//RECEIVER DETAILS</span>
<span class="c1">//--Address</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverCompany</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">THE AIRLINER CO</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverFloorBuilding</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">1ST FLOOR HEAD OFFICE</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverStreet</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">21 TULP STREET</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverSuburb</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MILNERTON</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverCity</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">CAPE TOWN</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverPostCode</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">7401</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverProvince</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">WESTERN CAPE</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//optional</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverLat</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//optional BUT WE ENCOURAGE the use of COORDINATES. Enter the LATITUDE here, e.g. -26.123496410189606</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverLon</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">//optional BUT WE ENCOURAGE the use of COORDINATES. Enter the LONGITUDE here, e.g. 28.205670867327754</span>

<span class="c1">//--Contact</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverContactName</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">DEREK</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverMobile</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0833211234</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverEmail</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">DEREK@THEAIRLINER.COM</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverTel</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0218641202</span><span class="dl">'</span><span class="err">;</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">receiverTelHome</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0218641202</span><span class="dl">'</span><span class="err">;</span>

<span class="c1">//PARCELS AND DIMENSIONS</span>
<span class="kd">var</span> <span class="nx">dimensions</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">parcel1</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">parcel1</span><span class="p">.</span><span class="nx">dimension1</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> <span class="c1">//Length (cm)</span>
<span class="nx">parcel1</span><span class="p">.</span><span class="nx">dimension2</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span> <span class="c1">//Breadth (cm) </span>
<span class="nx">parcel1</span><span class="p">.</span><span class="nx">dimension3</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">//Height (cm)</span>
<span class="nx">parcel1</span><span class="p">.</span><span class="nx">weight</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span> <span class="c1">//Parcel Weight (nearest whole kg)</span>
<span class="nx">parcel1</span><span class="p">.</span><span class="nx">reference</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">AIRFRAME COMPONENT</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//(optional)A reference for this parcel.</span>
<span class="nx">dims</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">parcel1</span><span class="p">);</span>

<span class="c1">//--&gt;...continue adding the rest of the parcels</span>

<span class="nx">postData</span><span class="p">.</span><span class="nx">dims</span> <span class="o">=</span> <span class="nx">dims</span><span class="p">;</span>

<span class="c1">//ADDITIONAL REFERENCES []</span>
<span class="kd">var</span> <span class="nx">additionalRefs</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">ref1</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">ref1</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">ORDER 22341</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">additionalRefs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">ref1</span><span class="p">);</span>

<span class="c1">//--&gt;...continue adding the rest of your references.</span>

<span class="nx">postData</span><span class="p">.</span><span class="nx">additionalReferences</span> <span class="o">=</span> <span class="nx">additionalRefs</span><span class="p">;</span>

<span class="c1">//THERMAL LABEL PRINTING</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">returnParcelPrintingText</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//(optional) Returns EPL thermal label data as part of the response for you to send to the thermal printer.</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">printParcels</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//(Optional) When set to [true], parcels are printed to the thermal label printer after submission using the [printUrl] specified.</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">printUrl</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span> <span class="c1">//(optional) Specify the thermal label printer URL to print to IF [printParcels=true]</span>
<span class="nx">postData</span><span class="p">.</span><span class="nx">printParcelsPrintNode</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">//(optional) Specify [true] to use PrintNode to print the labels if [printParcels=true].</span>

<span class="c1">//----- SUBMIT TO BEX -----//</span>
<span class="c1">//NOTE: If your call fails, it will still be communicated as 200 OK. Inspect the [ex] property in the response for error information.</span>
<span class="nx">jQuery</span><span class="p">.</span><span class="nx">support</span><span class="p">.</span><span class="nx">cors</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">//Enables cross-domain access to our services using jQuery ajax.</span>

<span class="c1">//--Step 1: Get your token.</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">host</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/api/service/login?userName=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">user</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;password=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">pass</span><span class="p">,</span> 
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> 
  <span class="na">async</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">//No need for async here.</span>
  <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">We couldnt complete the request. </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ex</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">tokenStr</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="c1">//--Step 2: Submit your waybill request.</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="na">url</span><span class="p">:</span> <span class="nx">host</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/api/service/submitwaybillv4</span><span class="dl">'</span><span class="p">,</span> 
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> 
  <span class="na">data</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">postData</span><span class="p">),</span> 
  <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span> 
  <span class="na">contentType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json; charset=UTF8</span><span class="dl">'</span><span class="p">,</span> 
  <span class="na">beforeSend</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//Add your token to the header</span>
    <span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">token</span><span class="dl">'</span><span class="p">,</span> <span class="nx">tokenStr</span><span class="p">);</span>
  <span class="p">},</span> 
  <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">We failed to submit your waybill. </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ex</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">'</span><span class="s1">Your waybill was created successfully.</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/body</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/html</span><span class="err">&gt;
</span></code></pre></div><h3 id='basic-details'>Basic Details</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Case</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead><tbody>
<tr>
<td>waybillNumber</td>
<td>String</td>
<td>No*</td>
<td>No</td>
<td>A unique waybill number. This field will be <em>required</em> if <em>AutoGenerateWaybillNumber</em> is set to <em>false</em>.</td>
</tr>
<tr>
<td>autoGenerateWaybillNumber</td>
<td>Boolean</td>
<td>N/A</td>
<td>No*</td>
<td>If set to <em>true</em>, the BEX system will automatically generate a waybill number on your behalf.</td>
</tr>
<tr>
<td>waybillDate</td>
<td>Date</td>
<td>No</td>
<td>No</td>
<td>Date of collection by BEX. Format yyyy-mm-dd</td>
</tr>
<tr>
<td>accountNumber</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>sendersRef</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>For tracking, reporting and invoice requests</td>
</tr>
<tr>
<td>instructions</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Communicate additional info</td>
</tr>
</tbody></table>

<p>*<code>waybillNumber</code> is auto-generated by BEX and communicated in the service response when making use of alternative shipping stationery options such as thermal labels or A4 waybills</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Case</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead><tbody>
<tr>
<td>serviceCode</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>The service delivery priority code</td>
</tr>
</tbody></table>

<p>Service delivery code values are:</p>

<ul>
<li>SDX - Sameday Express</li>
<li>DBD - Daybreak Delivery</li>
<li>ONC - Overnight Courier</li>
<li>NCA - Normal Cargo</li>
<li>BUD - Budget Cargo</li>
</ul>
<h3 id='sender-address'>Sender Address</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Case</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead><tbody>
<tr>
<td>senderCompany</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Company from which to collect</td>
</tr>
<tr>
<td>senderFloorBuilding</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Floor, building, office park</td>
</tr>
<tr>
<td>senderStreet</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Street for shipment collection</td>
</tr>
<tr>
<td>senderSuburb</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Sender suburb</td>
</tr>
<tr>
<td>senderCity</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Sender town or city</td>
</tr>
<tr>
<td>senderPostCode</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Sender postcode</td>
</tr>
<tr>
<td>senderProvince</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Sender province.</td>
</tr>
<tr>
<td>senderLat</td>
<td>Double</td>
<td>N/A</td>
<td>No</td>
<td>Sender coordinate latitude value (we encourage the use of these)</td>
</tr>
<tr>
<td>senderLon</td>
<td>Double</td>
<td>N/A</td>
<td>No</td>
<td>Sender coordintae longitude value (we encourage the use of these)</td>
</tr>
<tr>
<td>senderContactName</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Contact person for collection/dispatch</td>
</tr>
<tr>
<td>senderMobile</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Contact person mobile number</td>
</tr>
<tr>
<td>senderTel</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Contact person telephone number</td>
</tr>
<tr>
<td>senderTelHome</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Contact person telephone number (home or alternate)</td>
</tr>
<tr>
<td>senderEmail</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Contact person email address</td>
</tr>
</tbody></table>

<aside class="notice">
  senderMobile and senderEmail are useful for shipment progress updates.
</aside>
<h3 id='receiver-address'>Receiver Address</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Case</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead><tbody>
<tr>
<td>receiverCompany</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Receiver individual/company name</td>
</tr>
<tr>
<td>receiverFloorBuilding</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Floor and building address.</td>
</tr>
<tr>
<td>receiverStreet</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Receiver street number and name</td>
</tr>
<tr>
<td>receiverSuburb</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Receiver suburb.</td>
</tr>
<tr>
<td>receiverCity</td>
<td>String</td>
<td>No</td>
<td>Yes</td>
<td>Receiver city or town.</td>
</tr>
<tr>
<td>receiverPostCode</td>
<td>String</td>
<td>Yes</td>
<td>No</td>
<td>Receiver postcode</td>
</tr>
<tr>
<td>receiverProvince</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Receiver province.</td>
</tr>
<tr>
<td>receiverLat</td>
<td>Double</td>
<td>N/A</td>
<td>No</td>
<td>Receiver coordinate latitude value (we encourage the use of these)</td>
</tr>
<tr>
<td>receiverLon</td>
<td>Double</td>
<td>N/A</td>
<td>No</td>
<td>Receiver coordinate longitude value (we encourage the use of these)</td>
</tr>
<tr>
<td>receiverContactName</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Receiver name.</td>
</tr>
<tr>
<td>receiverMobile</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Useful for status updates</td>
</tr>
<tr>
<td>receiverEmail</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Useful for status updates</td>
</tr>
<tr>
<td>receiverTel</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Receiver telephone number</td>
</tr>
<tr>
<td>receiverTelHome</td>
<td>String</td>
<td>No</td>
<td>No</td>
<td>Receiver telephone number (home or alternate).</td>
</tr>
</tbody></table>

<p>If you would like to add insurance cover on your waybill, complete these two fields:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Case</th>
<th>Required</th>
<th>Note</th>
</tr>
</thead><tbody>
<tr>
<td>insuranceRequired</td>
<td>Boolean</td>
<td>No</td>
<td>No</td>
<td><em>true</em> if insurance is required for this shipment.</td>
</tr>
<tr>
<td>insuranceValue</td>
<td>Float/Double</td>
<td>No</td>
<td>Yes</td>
<td>Insured value, in ZAR. Omit this field if you <em>do not</em> require insurance.</td>
</tr>
</tbody></table>
<h3 id='dimensioning'>Dimensioning</h3>
<p>For communication of parcel specific information for each package that comprises this waybill shipping request.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Case</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>dimensions</td>
<td>Array</td>
<td>No</td>
<td>Yes</td>
</tr>
</tbody></table>

<aside class="notice">
  Should you not have the individual weights of each package to be shipped on the waybill
  you can state the total weight of all of the parcels in one of the dimension array&#39;s weight field,
  followed by zeroes for the remaining weights in the dimensions array.
</aside>

<p><strong>The <code>dimensions</code> array comprises:</strong></p>

<table><thead>
<tr>
<th>FieldName</th>
<th>FieldType</th>
<th>Req</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dimension1</td>
<td>Int</td>
<td>Yes</td>
<td>Length of the package, rounded up to the nearest whole centimeter</td>
</tr>
<tr>
<td>dimension2</td>
<td>Int</td>
<td>Yes</td>
<td>Width of the package, rounded up to the nearest whole centimeter</td>
</tr>
<tr>
<td>dimension3</td>
<td>Int</td>
<td>Yes</td>
<td>Height of the package, rounded up to the nearest whole centimeter</td>
</tr>
<tr>
<td>weight</td>
<td>Float</td>
<td>Yes</td>
<td>Actual weight of package in kilograms</td>
</tr>
<tr>
<td>reference</td>
<td>String</td>
<td>No</td>
<td>Tag this package with parcel specific information.</td>
</tr>
</tbody></table>
<h3 id='additional-references'>Additional References</h3>
<p>You can include additional references to the waybill for ease of reference and search.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Case</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>additionalReferences</td>
<td>Array</td>
<td>No</td>
<td>No</td>
</tr>
</tbody></table>

<p><strong>The <code>additionalReferences</code> array comprises:</strong></p>

<table><thead>
<tr>
<th>FieldName</th>
<th>FieldType</th>
<th>Req</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>String</td>
<td>Yes</td>
<td>The reference number you want to add.</td>
</tr>
</tbody></table>

<aside class="notice">
  Ensure that special characters are URL encoded.
</aside>
<h3 id='printing-options'>Printing Options</h3>
<p>These options should only be used if so advised by your sales representative or a BEX staff member. You may need additional information and/or setup before you may use these features.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Req</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>returnParcelPrintingText</td>
<td>Boolean</td>
<td>No</td>
<td>Optional. If <code>true</code>, returns EPL thermal label data as part of the response for you to send to the thermal printer.</td>
</tr>
<tr>
<td>printParcels</td>
<td>Boolean</td>
<td>No</td>
<td>Optional. If <code>true</code>, parcels are printed to the thermal label printer after submission using the <code>printUrl</code> specified.</td>
</tr>
<tr>
<td>printUrl</td>
<td>String</td>
<td>No</td>
<td>Optional. Specify the thermal printer URL to print to IF <code>printParcels=true</code>.</td>
</tr>
<tr>
<td>printParcelsPrintNode</td>
<td>Boolean</td>
<td>No</td>
<td>Optional. Specify <code>true</code> to use PrintNode to print the labels.</td>
</tr>
</tbody></table>
<h2 id='response'>Response</h2>
<p>The base object will contain a property called <code>items</code> which consists of an array holding a single object with the following properties:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>waybillNumber</td>
<td>String value reflecting the unique BEX waybill number for this successful shipping request.</td>
</tr>
<tr>
<td>baseRateTotal</td>
<td>Price of the rate card billing component for shipment.</td>
</tr>
<tr>
<td>surchargesTotal</td>
<td>Price of the surcharges for additional service add-ons</td>
</tr>
<tr>
<td>subTotal</td>
<td>The subtotal, excluding VAT, for the shipment routing requested.</td>
</tr>
<tr>
<td>vat</td>
<td>The VAT portion of the pricing for the delivery.</td>
</tr>
<tr>
<td>totalCharges</td>
<td>The grand total price for the waybill.</td>
</tr>
<tr>
<td>volRatio</td>
<td>The volumetric ratio used during the volumetric weight calculation in the billing engine. This ratio is directly dependent on the service delivery priority requested.</td>
</tr>
</tbody></table>
<h2 id='submission-failures'>Submission Failures</h2>
<p>Should your request fail, please inspect the <code>ex</code> property as mentioned earlier in this document. </p>

<aside class="notice">
  These errors often will need to be addressed before you can re-submit them to ensure successful submission.
</aside>
<h1 id='waybill-downloads'>Waybill Downloads</h1><h2 id='overview'>Overview</h2>
<p>As part of our service offering we allow you to download an <em>e-waybill</em> and any parcel labels associated with the waybill. The <em>e-waybill</em> is in A4 format and can be printed using any printer at your disposal.</p>
<h2 id='authentication'>Authentication</h2>
<p>The stationery download service requires a different token than the one you have been using to access the other endpoints. </p>

<p>You will need to re-complete the authentication procedure but you are required to set the <code>preferAlternateToken</code> to <code>true</code>. This will result in a completely different token being issued for your request. You <strong>must use this new token</strong> for the stationery download service <strong>only</strong>.</p>
<h2 id='ewaybill-download'>eWaybill Download</h2>
<p>You can download the e-waybill from <code>https://api.bex.co.za/api/service/downloadewaybill</code>.</p>

<aside class="notice">
  Only one e-waybill can be requested in a single call.
</aside>

<blockquote>
<p>Supply only 1 waybill number per call.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"`alternate_token`"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"waybillNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waybill_number"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>String</td>
<td>Yes</td>
<td>The <code>alternate_token</code> received through the <code>login</code> service.</td>
</tr>
<tr>
<td>waybillNumber</td>
<td>String</td>
<td>Yes</td>
<td>A single waybill number to lookup and produce a PDF for.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>A successful response will be the resulting PDF document. If you are accessing it through a browser, the download will happen automatically. </p>

<p>If you decide to integrate using your own system or code, you will need to process the response accordingly.</p>

<aside class="notice">
  An error response will still contain the relevant error message in the `ex` parameter of the response. 
</aside>
<h2 id='labels-downloads'>Labels Downloads</h2>
<p>You can download &quot;thermal&quot; labels from <code>https://api.bex.co.za/api/service/downloadparcellabels</code>. </p>

<blockquote>
<p>Example JSON body.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"`alternate_token`"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"waybillNumbers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"waybill_number_1,waybill_number_2,waybill_number_3,..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>FieldType</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>String</td>
<td>Yes</td>
<td>The <code>alternate_token</code> received through the <code>login</code> service.</td>
</tr>
<tr>
<td>waybillNumbers</td>
<td>String</td>
<td>Yes</td>
<td>A comma-seperated list of waybill numbers or parcel numbers to generate PDF labels for.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<p>A successful response will be the resulting PDF document. If you are accessing it through a browser, the download will happen automatically. </p>

<p>If you decide to integrate using your own system or code, you will need to process the response accordingly.</p>

<aside class="notice">
  An error response will still contain the relevant error message in the `ex` parameter of the response. 
</aside>
<h3 id='label-size'>Label Size</h3>
<p>The downloadable label is sized at 10.08cm x 14.98cm and may be printed on any printer you have at your disposal.</p>
<h1 id='webhooks-guide'>Webhooks Guide</h1><h2 id='getting-started'>Getting Started</h2>
<p>In order to use our WebHooks, you need to ensure that you have a valid and actively trading customer account registered with BEX. Once you have your account number, you will need to request a WebHook API key from our <a href="mailto:it@bex.co.za?subject=WebHook%20API%20key%20Request">IT department</a>. We will communicate this to you but it is your responsibility to ensure the secrecy of it.</p>

<p>Before we get started, please ensure that you understand and have implemented the necessary methods required to work with WebHooks. </p>
<h2 id='webhook-registration'>WebHook Registration</h2>
<p>The registration is a two-part process that requires two individual requests. </p>

<ul>
<li><p>First, you need to register your WebHook with us by sending a POST request to our WebHook endpoint located at:</p>

<p>https://webhook.bex.co.za/api/webhooks/registrations </p></li>
</ul>

<blockquote>
<p>In the header of your request, you should add a new key pair that represents your WebHook API key: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
    </span><span class="err">“X-InsightWebHooks-Auth”:</span><span class="w"> </span><span class="err">“Your</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">Key”</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The request body is made up of:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">WebHookUri:</span><span class="w"> </span><span class="err">“your</span><span class="w"> </span><span class="err">endpoint</span><span class="w"> </span><span class="err">where</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">webhook</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">post”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">Secret:</span><span class="w"> </span><span class="err">“A</span><span class="w"> </span><span class="err">secret</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">generate”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">Description:</span><span class="w"> </span><span class="err">“A</span><span class="w"> </span><span class="err">description</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">your</span><span class="w"> </span><span class="err">webhook”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">Filters:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">“filterA”</span><span class="p">,</span><span class="w"> </span><span class="err">“filterB”</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><p>After you have made this request and you receive a 200 OK response, you need to send another request to:</p>

<p>https://webhook.bex.co.za/api/ActivateWebHook </p></li>
</ul>

<blockquote>
<p>Providing the request body with the following values:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">webHookKey:</span><span class="w"> </span><span class="err">“your</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">key”</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">
Once you have made this request and you receive a 200 OK response, your WebHook is activated and should start receiving information momentarily.
</aside>
<h2 id='a-word-on-filters'>A Word on Filters</h2>
<p>We provide several different types of WebHook events and you can subscribe to one or all of them. If you want to subscribe to ALL events, then you should ensure that your code can differentiate between these types of events. In this case, you should provide an empty value for the Filters parameter i.e., Filters: []</p>

<p>If you would like to subscribe to certain events only, then you need to provide each event type you want to subscribe to, e.g. Filters: [ “event 1”, “event 2”, … ]</p>

<p>We provide the following filters/event types:</p>

<ul>
<li>pod</li>
<li>attempted_delivery</li>
<li>waybill_update</li>
<li>waybill_note</li>
<li>tracking_event</li>
</ul>

<aside class="notice">
More detail on each event type and what payload they contain can be found later in this document.
</aside>
<h2 id='unsubscribing'>Unsubscribing</h2>
<p>To unsubscribe from our WebHook, send a POST request to:
          https://webhook.bex.co.za/api/UnsubscribeWebHook</p>

<blockquote>
<p>The request body should consist of:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
    </span><span class="err">webHookKey:</span><span class="w"> </span><span class="err">“your</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">key”</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='filters-event-types'>Filters/Event Types</h2>
<aside class="notice">
When parsing the payload that our WebHook sends you, we will provide you with the requested event types or you can elect to receive all of them.
</aside> 
<h2 id='basic-payload-structure'>Basic Payload Structure</h2>
<blockquote>
<p>The basic payload structure for our WebHook would look like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> 
    </span><span class="err">“Id”:</span><span class="w"> </span><span class="err">“a</span><span class="w"> </span><span class="err">unique</span><span class="w"> </span><span class="err">id</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">message”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“Attempt”:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“Properties”:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w"> 
    </span><span class="err">“Notifications”:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="err">“Action”:</span><span class="w"> </span><span class="err">“tracking_type”</span><span class="p">,</span><span class="w"> 
        </span><span class="err">…</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>As part of the request to your WebHook endpoint, we also include a special header:</p>

<ul>
<li>Header Key: ms-signature </li>
<li>Header Value: sha256=calculatedHashValueGoesHere</li>
</ul>
<h2 id='notifications-property'>Notifications Property</h2>
<p>The notifications property will contain the type of notification you are receiving (“Action”) followed by the list of properties relating to that specific event type. These properties are listed below for your convenience.</p>
<h2 id='verifying-webhook-signature'>Verifying WebHook Signature</h2>
<p>Since we are only sending you a request with a payload and that we have no knowledge of your infrastructure, the message will be sent “anonymously” and won’t provide any mechanism to allow authentication to a closed system. It is your responsibility to ensure that the endpoint you specify accepts anonymous users and that you perform message validation as an alternative to authentication.</p>

<p>Every WebHook request that we send will have the special ms-signature header key containing the hash of the body we’ve sent. You should calculate the signature using the supplied secret (during registration) based on the body of the message you’ve received from us.</p>

<blockquote>
<p>A C# example of calculating the signature would be:</p>
</blockquote>
<div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">secret</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">secretYouProvidedDuringRegistration</span><span class="p">);</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">hasher</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HMACSHA256</span><span class="p">(</span><span class="n">secret</span><span class="p">))</span> 
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">serializedBody</span> <span class="p">=</span> <span class="n">body</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
    <span class="n">request</span><span class="p">.</span><span class="n">Content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">serializedBody</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="err">“</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="err">”</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">serializedBody</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">sha256</span> <span class="p">=</span> <span class="n">hasher</span><span class="p">.</span><span class="nf">ComputeHash</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">headerValue</span> <span class="p">=</span> <span class="n">EncodingUtilities</span><span class="p">.</span><span class="nf">ToHex</span><span class="p">(</span><span class="n">sha256</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><h2 id='event-types-payloads'>Event Types/Payloads</h2>
<p>Each event will be sent using the basic payload structure and contain different properties for each type of event.</p>

<blockquote>
<p><strong>Tracking Events</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">“Action”:</span><span class="w"> </span><span class="err">“tracking_event”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“WaybillNumber”:</span><span class="w"> </span><span class="err">“</span><span class="mi">12345</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingDate”:</span><span class="w"> </span><span class="err">“</span><span class="mi">2021-07-12</span><span class="w"> </span><span class="mi">11</span><span class="err">:</span><span class="mi">59</span><span class="err">:</span><span class="mi">25</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingUser”:</span><span class="w"> </span><span class="err">“John</span><span class="w"> </span><span class="err">Doe”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingDescription”:</span><span class="w"> </span><span class="err">“tracking</span><span class="w"> </span><span class="err">description”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingReference”:</span><span class="w"> </span><span class="err">“some</span><span class="w"> </span><span class="err">reference”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingTypeId”:</span><span class="w"> </span><span class="mi">-1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>POD</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">“Action”:</span><span class="w"> </span><span class="err">“tracking_event”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“WaybillNumber”:</span><span class="w"> </span><span class="err">“</span><span class="mi">12345</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingDate”:</span><span class="w"> </span><span class="err">“</span><span class="mi">2021-07-12</span><span class="w"> </span><span class="mi">11</span><span class="err">:</span><span class="mi">59</span><span class="err">:</span><span class="mi">25</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingUser”:</span><span class="w"> </span><span class="err">“John</span><span class="w"> </span><span class="err">Doe”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingDescription”:</span><span class="w"> </span><span class="err">“tracking</span><span class="w"> </span><span class="err">description”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingReference”:</span><span class="w"> </span><span class="err">“some</span><span class="w"> </span><span class="err">reference”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“TrackingTypeId”:</span><span class="w"> </span><span class="mi">-1</span><span class="w">
</span><span class="p">}</span><span class="w">   </span><span class="p">{</span><span class="w">
    </span><span class="err">“Action”:</span><span class="w"> </span><span class="err">“pod”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“WaybillNumber”:</span><span class="w"> </span><span class="err">“</span><span class="mi">12345</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“PODDate”:</span><span class="w"> </span><span class="err">“</span><span class="mi">2021-07-12</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“PODTime”:</span><span class="w"> </span><span class="err">“</span><span class="mi">11</span><span class="err">:</span><span class="mi">34</span><span class="err">:</span><span class="mi">25</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“Signee”:</span><span class="w"> </span><span class="err">“Jane</span><span class="w"> </span><span class="err">Doe”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“PODPieces”:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Attempted Delivery</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">“Action”:</span><span class="w"> </span><span class="err">“attempted_delivery”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“WaybillNumber”:</span><span class="w"> </span><span class="err">“</span><span class="mi">12345</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“AttemptedDate”:</span><span class="w"> </span><span class="err">“</span><span class="mi">2021-07-12</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“AttemptedTime”:</span><span class="w"> </span><span class="err">“</span><span class="mi">11</span><span class="err">:</span><span class="mi">12</span><span class="err">:</span><span class="mi">16</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“NonDeliveryReason”:</span><span class="w"> </span><span class="err">“Wrong</span><span class="w"> </span><span class="err">route”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“DriverComment”:</span><span class="w"> </span><span class="err">“driver”</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Waybill Note</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">“Action”:</span><span class="w"> </span><span class="err">“waybill_note”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“PostedBy”:</span><span class="w"> </span><span class="err">“John</span><span class="w"> </span><span class="err">Doe”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“NoteDate”:</span><span class="w"> </span><span class="err">“</span><span class="mi">2021-07-12</span><span class="w"> </span><span class="mi">12</span><span class="err">:</span><span class="mi">08</span><span class="err">:</span><span class="mi">16</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“NoteText”:</span><span class="w"> </span><span class="err">“Customer</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">phone</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">home”</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Waybill Update</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">“Action”:</span><span class="w"> </span><span class="err">“waybill_update”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“WaybillNumber”:</span><span class="w"> </span><span class="err">“</span><span class="mi">12345</span><span class="err">”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“Service”:</span><span class="w"> </span><span class="err">“ONC”</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“InsuranceRequired”:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“InsuranceValue”:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“ActualWeight”:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“VolumetricWeight”:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“ChargeableWeight”:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“BaseRateTotal”:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“SurchargesTotal”:</span><span class="w"> </span><span class="mf">17.50</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“SubTotal”:</span><span class="w"> </span><span class="mf">42.50</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“Vat”:</span><span class="w"> </span><span class="mf">6.38</span><span class="p">,</span><span class="w">
    </span><span class="err">“TotalCharges”:</span><span class="w"> </span><span class="mf">48.88</span><span class="p">,</span><span class="w"> 
    </span><span class="err">“Parcels”:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> 
          </span><span class="err">“ParcelBarcodeNumber”:</span><span class="w"> </span><span class="err">“P</span><span class="mi">1</span><span class="err">”</span><span class="p">,</span><span class="w"> 
          </span><span class="err">“Dimension</span><span class="mi">1</span><span class="err">”:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> 
          </span><span class="err">“Dimension</span><span class="mi">2</span><span class="err">”:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> 
          </span><span class="err">“Dimension</span><span class="mi">3</span><span class="err">”:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
          </span><span class="err">“Weight”:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> 
          </span><span class="err">“ParcelDescription”:</span><span class="w"> </span><span class="err">“”</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="err">…</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre></div>
<p><br>
<br></p>

<p><em>Tracking Event ID Descriptions:</em></p>

<table><thead>
<tr>
<th>Tracking Type ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Shipment handed to courier.</td>
</tr>
<tr>
<td>4</td>
<td>Shipment departed XYZ branch/depot.</td>
</tr>
<tr>
<td>5</td>
<td>Shipment arrived at XYZ branch/depot.</td>
</tr>
<tr>
<td>7</td>
<td>Shipment loaded onto vehicle for delivery.</td>
</tr>
<tr>
<td>9</td>
<td>Delivery attempt failed because (reason variable)</td>
</tr>
<tr>
<td>13</td>
<td>Shipment integrated into our system.</td>
</tr>
</tbody></table>

<aside class="notice">
To subscribe to any of these events, you can either leave the Filters parameter empty during initial WebHook registration to receive all events, or you can specify the events you want by using the values as shown in the Action parameter of the relevant event type i.e., tracking_event, pod, attempted_delivery, waybill_note, waybill_update.
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
